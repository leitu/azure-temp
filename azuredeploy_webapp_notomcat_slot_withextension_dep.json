{
	"$schema": "https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
	"contentVersion": "1.0.0.0",
	"parameters": {
		"webSiteNamePrefix": {
			"type": "string",
			"metadata": {
				"description": "Name of the Azure Web app to create."
			}
		}
    },
	"variables": {
		"webSiteName": "[parameters('webSiteNamePrefix')]"
	},
	"resources": [
	{
		"apiVersion": "2016-08-01",
		"name": "[variables('webSiteName')]",
		"type": "Microsoft.Web/sites",
		"location": "Japan East",
		"tags": {
			"displayName": "Website"
		},
		"properties": {
			"name": "[variables('webSiteName')]",
			"serverFarmId": "/subscriptions/8c2211b6-751f-44b8-9cea-828d8bca386a/resourceGroups/apptestRg/providers/Microsoft.Web/serverfarms/apptestSp"
		},
		"resources": [{
			"apiVersion": "2016-08-01",
			"name": "web",
			"type": "config",
			"dependsOn": [
				"[concat('Microsoft.Web/sites/', variables('webSiteName'))]"
			],
			"properties": {
				"use32BitWorkerProcess": false,
				"phpVersion": "Off",
				"alwaysOn": true
			}
		},
		 {
          "apiVersion": "2016-08-01",
          "name": "slotconfignames",
          "type": "config",
          "dependsOn": [
            "[resourceId('Microsoft.Web/Sites', variables('webSiteName'))]"
          ],
          "properties": {
            "appSettingNames": [ "use32BitWorkerProcess", "phpVersion",  "alwaysOn" ]
          }
        },
		{
          "apiVersion": "2016-08-01",
          "name": "Staging",
          "type": "slots",
          "location": "Japan East",
          "dependsOn": [
            "[resourceId('Microsoft.Web/Sites',  variables('webSiteName'))]"
          ],
          "properties": {
          },
          "resources": [
            {
			"apiVersion": "2016-08-01",
			"name": "appsettings",
			"type": "config",
			"dependsOn": [
                "[resourceId('Microsoft.Web/Sites/slots',  variables('webSiteName'), 'Staging')]"
              ],
			"properties": {
				"test": "tear",
				"WEBSITE_NODE_DEFAULT_VERSION": "4.4.7",
				"Name": "SCM_SITEEXTENSIONS_FEED_URL",
				"Value": "http://www.siteextensions.net/api/v2/"
            }
         },
		 {
          "apiVersion": "2016-08-01",
          "name": "JavaX64",
          "type": "siteextensions",
          "dependsOn": [
            "[resourceId('Microsoft.Web/Sites/slots',  variables('webSiteName'), 'Staging')]",
            "[resourceId('Microsoft.Web/Sites/slots/config', variables('webSiteName'), 'Staging', 'appsettings')]"
            ],
          "properties": { }
        }
          ]
        }
			]
	}

	],
	"outputs": {

	}
}